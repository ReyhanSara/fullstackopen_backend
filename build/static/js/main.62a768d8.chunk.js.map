{"version":3,"sources":["services/contacts.js","components/PersonForm.js","components/Persons.js","components/Notifications.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","Inputs","text","value","onChange","PersonForm","newName","newNumber","onChangeName","onChangeNumber","onClick","type","Persons","name","number","deletePerson","btn","Notifications","message","className","Filter","App","useState","persons","setPersons","setNewName","setNewNumber","newView","setView","errorMessage","setErrorMessage","useEffect","console","log","contactService","showPersons","filter","person","toLowerCase","includes","event","target","preventDefault","addName","personNames","map","findPerson","find","n","changedNumber","indexOf","window","confirm","returnedContact","p","setTimeout","catch","error","concat","i","key","pers","objPerson","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.62a768d8.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll= () =>{\r\n    const request= axios.get(baseUrl)\r\n    return request.then(response=>response.data)\r\n}\r\n\r\nconst create = newObject =>{\r\n    const request= axios.post(baseUrl, newObject)\r\n    return request.then(response=> response.data)\r\n}\r\n\r\nconst update = (id, newObject)  => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst deleteContact = (id, newObject) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, update, deleteContact }","import React from 'react'\r\n\r\nconst PersonForm=({newName,newNumber,onChangeName,onChangeNumber,onClick})=>{\r\n    return(\r\n      <div>\r\n        <form>\r\n            <div>\r\n              <Inputs text=\"Name\" value={newName} onChange={onChangeName} />\r\n              <Inputs text=\"Number\" value={newNumber} onChange={onChangeNumber} />\r\n            </div>\r\n            <div>\r\n              <button type=\"submit\" onClick={onClick}>add</button>\r\n            </div>\r\n          </form>\r\n      </div>\r\n    )\r\n  }\r\n  \r\n  const Inputs = ({text,value,onChange})=> {\r\n    return(\r\n      <div> \r\n        {text}: <input value={value} onChange={onChange}/>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  export default PersonForm","import React from 'react'\r\n\r\nconst Persons=({name,number,deletePerson,btn})=>{\r\n    return(\r\n    <div>\r\n        {name}&nbsp;{number}\r\n        {btn ? <button onClick={deletePerson}>delete</button> : <span></span>}\r\n    </div> \r\n    )\r\n  }\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst Notifications = ({ message }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div className=\"error\">\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  export default Notifications","import React, { useState, useEffect } from 'react'\r\nimport contactService from './services/contacts'\r\nimport PersonForm from './components/PersonForm'\r\nimport Persons from './components/Persons'\r\nimport Notifications from './components/Notifications'\r\n\r\nconst Filter = ({ onChange }) => {\r\n  return (\r\n    <span>filter person with :<input onChange={onChange} /></span>\r\n  )\r\n}\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([])\r\n  const [newName, setNewName] = useState('')\r\n  const [newNumber, setNewNumber] = useState('')\r\n  const [newView, setView] = useState('')\r\n  const [errorMessage, setErrorMessage] = useState(null)\r\n\r\n  useEffect(() => {\r\n    console.log('effect')\r\n    contactService\r\n      .getAll()\r\n      .then(response => {\r\n        setPersons(response)\r\n      })\r\n  }, [])\r\n\r\n  const handleNewName = (event) => {\r\n    console.log(event.target.value)\r\n    setNewName(event.target.value)\r\n  }\r\n  const handleNewNumber = (event) => {\r\n    console.log(event.target.value)\r\n    setNewNumber(event.target.value)\r\n  }\r\n  const handleView = (event) => {\r\n    setView(event.target.value)\r\n  }\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault()\r\n    const addName = {\r\n      name: newName,\r\n      number: newNumber,\r\n      btn: true,\r\n    }\r\n    const personNames = persons.map(person => person.name)\r\n    const findPerson = persons.find(n => n.name === addName.name)\r\n    const changedNumber = { ...findPerson, number: newNumber }\r\n\r\n    personNames.indexOf(newName) !== -1\r\n      ? window.confirm(`${newName} is already added in the phone book, replace old number with new?`)\r\n        ? contactService.update(findPerson.id, changedNumber).then(returnedContact => {\r\n          setPersons(persons.map(p => p.id !== findPerson.id ? p : returnedContact))\r\n          setErrorMessage(`Updated phone number of ${newName}`)\r\n          setTimeout(() => {\r\n            setErrorMessage(null)\r\n          }, 5000)\r\n        }).catch(error => {\r\n          setErrorMessage(`Information of ${newName} has been removed from the server`)\r\n          setTimeout(() => {\r\n            setErrorMessage(null)\r\n          }, 5000)\r\n        })\r\n        : console.log(\"do nothing\")\r\n      : contactService\r\n        .create(addName)\r\n        .then(response => {\r\n          setPersons(persons.concat(response))\r\n          setErrorMessage(`Added ${addName.name} to phonebook`)\r\n          setTimeout(() => {\r\n            setErrorMessage(null)\r\n          }, 5000)\r\n        })\r\n        .catch(error => {\r\n          console.log(error.response.data)\r\n          setErrorMessage(`${error.response.data.error}`)\r\n          setTimeout(() => {\r\n            setErrorMessage(null)\r\n          }, 5000)       \r\n        })\r\n\r\n    setNewName('')\r\n    setNewNumber('')\r\n  }\r\n\r\n\r\n  const deletePerson = (id) => {\r\n    if (window.confirm(`Do you really want to delete ${id}?`)) {\r\n      const pers = persons.find(p => p.id === id)\r\n      const objPerson = { ...pers, btn: false }\r\n\r\n      contactService\r\n        .deleteContact(id, objPerson)\r\n        .then(returnedContact => {\r\n          setPersons(persons.map(person => person.id !== id ? person : returnedContact))\r\n        })\r\n    }\r\n  }\r\n\r\n  const showPersons = (newView !== '')\r\n    ? persons.filter(person => person.name.toLowerCase().includes(newView.toLowerCase()))\r\n    : persons\r\n\r\n  return (\r\n    <div>\r\n      <h1>Phonebook</h1>\r\n      <Notifications message={errorMessage} />\r\n      <Filter onChange={handleView} />\r\n\r\n      <h3>Add new contact</h3>\r\n      <PersonForm newName={newName} newNumber={newNumber}\r\n        onChangeName={handleNewName} onChangeNumber={handleNewNumber} onClick={handleSubmit} />\r\n\r\n      <h2>Numbers</h2>\r\n\r\n      {showPersons.map((person, i) =>\r\n        <Persons\r\n          key={i}\r\n          name={person.name}\r\n          number={person.number}\r\n          btn={person.btn}\r\n          deletePerson={() => deletePerson(person.id)}\r\n        />\r\n      )}\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(<App />,document.getElementById('root')\n);\n"],"sourceRoot":""}